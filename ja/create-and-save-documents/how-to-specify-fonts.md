# フォントの指定方法

## フォントを表示するしくみ

Vivliostyle Pubでは以下の3種類の場所にあるフォントを利用することができます。

1. ユーザーのPCにあるローカルフォント（図1：フォント①）
2. クラウドにインストールされたフォント（図2：フォント②）
3. 外部Webフォントサービスのフォント（図1、図2：フォント③）

ただし、無条件でプレビューでもPDF出力でも利用できるのは3だけです。1はプレビューでだけ利用でき、2はPDF出力でだけ利用できます。この違いはVivliostyle Pubがフォントを表示する仕組みによるものです。本節では、まずこの仕組みについてプレビューとPDF出力とに分けて概説します。ついでActionメニューの項目に沿いながら、3種類のフォントを利用する方法について述べていきます。

プレビューにおいてフォントがどのように使われるかを図1に示しました。ここで注意してほしいのは、プレビューにおける組版エンジンであるVivliostyle.jsは、ユーザーのPC上のフロントエンドにあるということです。組版エンジンはフォントをハンドリングします。したがってユーザーのPCにあるローカルフォントもプレビューで利用できるわけです。これ以外に、外部Webフォントサービスのフォントも利用できます。

ただし、この図にはバックエンドが図示されていません。プレビューにおいてはクラウド上にあるバックエンドのコンポーネントは関与していないのです。したがってクラウドにインストールされたフォントも利用できないのです。

<img src="images/create-and-save-documents/how-to-specify-fonts/fig-1.jpg" alt="図1 プレビューにおけるフォントの利用" style="max-height: 500px;">

次に、PDF出力においてフォントがどのように使われるかを図2に示しました。ここで注意してほしいのは、PDF出力における組版エンジンであるVivliostyle.jsは、クラウド上のバックエンドにあるということです。したがってクラウドにインストールされたフォントがPDF出力で利用できるわけです。これ以外に、外部Webフォントサービスのフォントも利用できます。

<img src="images/create-and-save-documents/how-to-specify-fonts/fig-2.jpg" alt="図2 PDF出力におけるフォントの利用" style="max-height: 500px;">

ただし、この図には図1にはあった、フロントエンドのvivliostyle.jsやユーザーのPCにあるローカルフォントは図示されていません。PDF出力において、フロントエンドはメニューを通じて指示を出すだで、組版には関与していないのです。したがってユーザーのPCにあるローカルフォントも利用できないのです。

## Plain themeを選択した際に使われるフォント

![ ](images/create-and-save-documents/how-to-specify-fonts/fig-3.png)

Actionメニューから「Plain theme」を選択した場合、プレビューに使用されるフォントはブラウザの設定における「標準フォント」で指定されたものです。前掲図1の分類ではフォント①（ユーザーのPCにあるローカルフォント）に該当します。

したがって、Plain themeにおけるプレビューのフォントを、PDF出力には利用できないことにご注意ください（ブラウザ設定の「標準フォント」でIPAゴシックかIPA Pゴシックを指定していた場合を除きます）。

- 参考：[Theme（テーマの選択）> Plain theme](/ja/functions-of-the-actions-menu/theme.md#plain-theme)

## themeライブラリのフォント利用




## Custom theme／クラウドにあるフォントの利用

なお、クラウドにインストールされているフォントのリストは、下記を参照してください。

- [現状の利用可能なフォントについて[vivliostyle-cli]](https://github.com/vivliostyle/vivliostyle-cli/issues/303#issuecomment-1163980308)

日本語フォントは[IPAゴシック、IPA Pゴシック](https://moji.or.jp/ipafont/)が利用できます。ただし、ユーザーのPCにこれらのフォントがインストールされていなければ、プレビューでは利用できません。

もちろん、インストールされていれば話しは別です。たとえば以下のようにCustom themeの中で指定し、且つユーザーのPCにIPA Pゴシックがインストールされていた場合、プレビューでもPDF出力でもIPA Pゴシックが利用できます。

```
font-family: 'IPAPGothic', sans-serif;
```

## Custom theme／Googleフォントの利用

## Custom theme／有料Webフォントサービスの利用

## 推奨する有料Webフォントサービスの利用方法